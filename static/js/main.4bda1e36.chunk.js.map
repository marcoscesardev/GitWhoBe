{"version":3,"sources":["components/RepositoriesList.js","components/UserInfo.js","pages/Home/HomePage.js","App.js","index.js"],"names":["RepositoriesList","props","userLogin","useState","repositories","setRepositories","useEffect","axios","get","then","data","sort","repoA","repoB","stargazers_count","className","map","repo","idx","key","href","clone_url","name","UserInfo","user","setUser","html_url","src","avatar_url","login","bio","followers","following","public_repos","onClick","HomePage","initialValues","username","validate","values","errors","test","onSubmit","setSubmitting","setFieldError","resetForm","catch","error","response","status","touched","handleChange","handleSubmit","isSubmitting","classNames","type","placeholder","onChange","autoComplete","value","disabled","App","basename","process","path","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4bda1e36.chunk.js","sourcesContent":["// react\nimport React, { useEffect, useState } from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\n\nexport default function RepositoriesList(props) {\n  const { userLogin } = props;\n  const [repositories, setRepositories] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`/users/${userLogin}/repos`)\n      .then(({data}) => {\n        setRepositories(\n          data.sort((repoA, repoB) => {\n            return repoB.stargazers_count - repoA.stargazers_count;\n          })\n        );\n      });\n  }, []);\n\n  return (\n    <div className=\"repositories-list\">\n      {repositories.map(function(repo, idx){\n        return (\n          <a key={idx} href={repo.clone_url} className=\"repositories-list__link\">\n            <div className=\"repositories-list__item\">\n              <div className=\"repositories-list__repo-name\">\n                {repo.name}\n              </div>\n              <div className=\"repositories-list__stars-count\">\n                {repo.stargazers_count}★\n              </div>\n            </div>\n          </a>\n        )\n      })}\n    </div>\n  );\n}\n\nRepositoriesList.propTypes = {\n  userLogin:  PropTypes.string.isRequired,\n};\n","// react\nimport React from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\n\n// Application\nimport RepositoriesList from './RepositoriesList'\n\nexport default function UserInfo(props) {\n  const { user, setUser } = props;\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"puff-in-center\">\n      <div className=\"user-info\">\n        <div className=\"user-info__main\">\n          <a href={user.html_url}>\n            <img src={user.avatar_url} />\n            <h3>{user.name}</h3>\n            <h4>@{user.login}</h4>\n            <h4>{user.bio}</h4>\n          </a>\n        </div>\n        <div className=\"user-info__basic\">\n          <h5>Seguidores: <span>{user.followers}</span></h5>\n          <hr/>\n          <h5>Seguindo: <span>{user.following}</span></h5>\n          <hr/>\n          <h5>Repositórios: <span>{user.public_repos}</span></h5>\n        </div>\n      </div>\n\n      { user.public_repos > 0 && <RepositoriesList userLogin={user.login} /> }\n\n      <div className=\"user-info__action\">\n        <a className=\"btn\" onClick={() => { setUser(null) }}>\n          Voltar\n        </a>\n      </div>\n    </div>\n  );\n}\n\nUserInfo.propTypes = {\n  user: PropTypes.shape({\n    avatar_url: PropTypes.string,\n    bio: PropTypes.string,\n    followers: PropTypes.number,\n    following: PropTypes.number,\n    html_url: PropTypes.string,\n    login: PropTypes.string,\n    name: PropTypes.string,\n    public_repos: PropTypes.number,\n    stargazers_count: PropTypes.number,\n  }).isRequired,\n  setUser: PropTypes.func,\n};\n","// react\nimport React, { useState } from 'react';\n\n// third-party\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport UserInfo from '../../components/UserInfo';\nimport classNames from 'classnames';\n\nexport default function HomePage() {\n  const [user, setUser] = useState(null);\n\n  if (user) {\n    return (\n      <div className=\"home-page\">\n        <div className=\"home-page__form puff-in-center\">\n          <UserInfo user={user} setUser={setUser} />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"home-page puff-in-center\">\n      <div className=\"home-page__form\">\n        <div className=\"home-page__title\">\n          <h1>GitWhoBe</h1>\n          <span>Descubra informações de usuários do GitHub</span>\n        </div>\n\n        <Formik\n          initialValues={{ username: '' }}\n          validate={values => {\n            const errors = {};\n\n            if (!values.username) {\n              errors.username = 'Obrigatório';\n            } else if (!/^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){0,38}[a-z\\d]$/i.test(values.username)) {\n              errors.username = `Pode conter apenas caracteres alfanuméricos ou hífens únicos e não\n                pode começar ou terminar com um hífen.`;\n            }\n\n            return errors;\n          }}\n\n          onSubmit={(values, { setSubmitting, setFieldError, resetForm }) => {\n            axios\n              .get(`/users/${values.username}`)\n              .then(({ data }) => {\n                setSubmitting(false);\n                setUser(data);\n                resetForm();\n              })\n              .catch(error => {\n                setSubmitting(false)\n\n                if (error.response && error.response.status === 404) {\n                  setFieldError(\n                    'username',\n                    'Este usuário não existe!'\n                  );\n                } else {\n                  setFieldError(\n                    'username',\n                    'Ocorreu um erro na requisição'\n                  );\n                }\n              });\n          }}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n          }) => (\n            <form onSubmit={handleSubmit} className=\"\">\n              <div className=\"home-page__form-group\">\n                <div className=\"home-page__icon\">@</div>\n                <input\n                  className={classNames('home-page__input', {\n                    'home-page__input--error': errors.username,\n                  })}\n                  type=\"username\"\n                  name=\"username\"\n                  placeholder=\"Usuário\"\n                  onChange={handleChange}\n                  autoComplete=\"off\"\n                  value={values.username}/>\n\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className={classNames('btn', {\n                    'btn--disabled': isSubmitting,\n                  })}\n                >\n                  BUSCAR\n                </button>\n              </div>\n\n              <div className=\"home-page__message--error\">\n                {errors.username && touched.username && errors.username}\n              </div>\n\n            </form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  )\n}\n","// React\nimport React from 'react';\n\n// tirt-parts\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n// Application\nimport HomePage from './pages/Home/HomePage'\nimport './App.scss'\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path=\"/\">\n          <HomePage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// react\nimport React from 'react';\n\n// third-party\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\n\n// aplication\nimport App from './App';\n\naxios.defaults.baseURL = 'https://api.github.com';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}