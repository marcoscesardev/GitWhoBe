{"version":3,"sources":["components/RepositoriesList.js","components/UserInfo.js","pages/Home/HomePage.js","App.js","index.js"],"names":["RepositoriesList","props","userLogin","useState","repositories","setRepositories","useEffect","axios","get","then","data","sort","repoA","repoB","stargazers_count","className","map","d","idx","key","href","clone_url","name","UserInfo","user","setUser","src","avatar_url","login","bio","followers","following","public_repos","reposAmount","onClick","HomePage","initialValues","username","validate","values","errors","test","onSubmit","setSubmitting","setFieldError","resetForm","catch","error","response","touched","handleChange","handleSubmit","isSubmitting","classNames","type","placeholder","onChange","value","disabled","App","basename","process","path","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8d47fb9.chunk.js","sourcesContent":["// react\nimport React, { useEffect, useState } from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\n\nexport default function RepositoriesList(props) {\n  const { userLogin } = props;\n  const [repositories, setRepositories] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`/users/${userLogin}/repos`)\n      .then(({data}) => {\n        setRepositories(\n          data.sort((repoA, repoB) => {\n            return repoB.stargazers_count - repoA.stargazers_count;\n          })\n        );\n      });\n  }, []);\n\n  return (\n    <div className=\"repositories-list\">\n      {repositories.map(function(d, idx){\n        return (\n          <a key={idx} href={d.clone_url} className=\"repositories-list__link\">\n            <div className=\"repositories-list__item\">\n              {d.name}\n            </div>\n          </a>\n        )\n      })}\n    </div>\n  );\n}\n\nRepositoriesList.propTypes = {\n  userLogin:  PropTypes.string.isRequired,\n};\n","// react\nimport React from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\n\n// Application\nimport RepositoriesList from './RepositoriesList'\n\nexport default function UserInfo(props) {\n  const { user, setUser } = props;\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"puff-in-center\">\n      <div className=\"user-info\">\n        <div className=\"user-info__main\">\n          <img src={user.avatar_url} />\n          <h3>{user.name}</h3>\n          <h4>@{user.login}</h4>\n          <h4>{user.bio}</h4>\n        </div>\n        <div className=\"user-info__basic\">\n          <h5>Seguidores: <span>{user.followers}</span></h5>\n          <hr/>\n          <h5>Seguindo: <span>{user.following}</span></h5>\n          <hr/>\n          <h5>Repositórios: <span>{user.public_repos}</span></h5>\n        </div>\n      </div>\n\n      <RepositoriesList userLogin={user.login} reposAmount={user.public_repos} />\n      <div className=\"user-info__action\">\n        <a className=\"btn\" onClick={() => { setUser(null) }}>\n          Voltar\n        </a>\n      </div>\n    </div>\n  );\n}\n\nUserInfo.propTypes = {\n  user: PropTypes.shape({\n    avatar_url: PropTypes.string,\n    bio: PropTypes.string,\n    followers: PropTypes.number,\n    following: PropTypes.number,\n    html_url: PropTypes.string,\n    login: PropTypes.string,\n    name: PropTypes.string,\n    public_repos: PropTypes.number,\n    stargazers_count: PropTypes.number,\n  }).isRequired,\n  setUser: PropTypes.func,\n};\n","// react\nimport React, { useState } from 'react';\n\n// third-party\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport UserInfo from '../../components/UserInfo';\nimport classNames from 'classnames';\n\nexport default function HomePage() {\n  const [user, setUser] = useState(null);\n\n  if (user) {\n    return (\n      <div className=\"home-page\">\n        <div className=\"home-page__form puff-in-center\">\n          <UserInfo user={user} setUser={setUser} />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"home-page puff-in-center\">\n      <div className=\"home-page__form\">\n        <div className=\"home-page__title\">\n          <h1>GitWhoBe</h1>\n          <span>Descubra informações de usuários do GitHub</span>\n        </div>\n        <Formik\n          initialValues={{ username: '' }}\n          validate={values => {\n            const errors = {};\n\n            if (!values.username) {\n              errors.username = 'Obrigatório';\n            } else if (!/^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){0,38}[a-z\\d]$/i.test(values.username)) {\n              errors.username = `Pode conter apenas caracteres alfanuméricos ou hífens únicos e não\n                pode começar ou terminar com um hífen.`;\n            }\n\n            return errors;\n          }}\n\n          onSubmit={(values, { setSubmitting, setFieldError, resetForm }) => {\n            axios\n            .get(`/users/${values.username}`)\n            .then(({ data }) => {\n              setSubmitting(false);\n              setUser(data);\n              resetForm();\n            })\n            .catch(error => {\n              setSubmitting(false)\n              if (error.response === 404) {\n                setFieldError(\n                  'username',\n                  'Este usuário não existe!'\n                );\n              } else {\n                setFieldError(\n                  'username',\n                  'Ocorreu um erro na requisição'\n                );\n              }\n            });\n          }}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n          }) => (\n            <form onSubmit={handleSubmit} className=\"\">\n              <div className=\"home-page__form-group\">\n                <div className=\"home-page__icon\">@</div>\n                <input\n                  className={classNames('home-page__input', {\n                    'home-page__input--error': errors.username && touched.username,\n                  })}\n                  type=\"username\"\n                  name=\"username\"\n                  placeholder=\"Usuário\"\n                  onChange={handleChange}\n                  value={values.username}/>\n\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className={classNames('btn', {\n                    'btn--disabled': isSubmitting,\n                  })}\n                >\n                  BUSCAR\n                </button>\n              </div>\n\n              <div className=\"home-page__message--error\">\n                {errors.username && touched.username && errors.username}\n              </div>\n\n            </form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  )\n}\n","// React\nimport React from 'react';\n\n// tirt-parts\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n// Application\nimport HomePage from './pages/Home/HomePage'\nimport './App.scss';\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path=\"/\">\n          <HomePage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// react\nimport React from 'react';\n\n// third-party\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\n\n// aplication\nimport App from './App';\n\naxios.defaults.baseURL = 'https://api.github.com';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}